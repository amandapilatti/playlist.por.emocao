<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playlist por Emoção</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuração do Tailwind para cores personalizadas e fonte Inter -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-bg': '#F3E8FF', // Lilás bem claro (fundo principal)
                        'secondary-bg': '#E9D5FF', // Lilás um pouco mais escuro (cartões, headers)
                        'accent-purple': '#A78BFA', // Roxo de destaque (botões, formas principais)
                        'deep-purple': '#6D28D9', // Roxo escuro (textos, ícones)
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    keyframes: {
                        pulse: {
                            '0%, 100%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.03)' },
                        }
                    },
                    animation: {
                        pulse: 'pulse 1.5s ease-in-out infinite',
                    }
                },
            }
        }
    </script>
    <style>
        /* Estilo para a fonte "bagunçada" do cabeçalho da Imagem 1 */
        .wavy-text {
            font-family: 'Comic Sans MS', cursive, sans-serif; /* Usando uma fonte divertida como fallback */
            font-weight: 900;
            letter-spacing: 2px;
            color: white;
            text-shadow: 2px 2px 0px #6D28D9;
        }

        /* Estilo para simular o carrossel na horizontal (scroll) */
        .emotion-carousel {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
            scroll-behavior: smooth; /* Adicionado para scroll suave */
        }
        .emotion-carousel::-webkit-scrollbar {
            display: none;
        }

        /* Estilização para o input range do player */
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #A78BFA;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
            margin-top: -5px; /* Ajuste vertical no Chrome */
        }
        input[type=range]::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #A78BFA;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }
        input[type=range] {
            height: 6px;
        }
    </style>
</head>
<body class="bg-primary-bg min-h-screen font-sans">

    <!-- O conteúdo principal será injetado aqui -->
    <div id="app-container" class="max-w-4xl mx-auto p-4 md:p-8">
        <!-- Conteúdo dinâmico será carregado aqui -->
    </div>

    <!-- Script principal -->
    <script>
        // ESTES SÃO OS DADOS QUE VOCÊ DEVE EDITAR PARA COLOCAR AS SUAS IMAGENS.
        // Basta substituir o URL de "https://placehold.co/..." pelo URL da sua imagem.
        const EMOTIONS_DATA = [
        
            { name: "Tristeza", imageUrl: "https://blogmaniadebrincar.com.br/wp-content/uploads/2025/01/Tristeza-Divertida-Mente-2-1024x576.jpg" },
            { name: "Felicidade", imageUrl: "https://cdn.culturagenial.com/imagens/alegria-cke.jpg?class=article" },
            { name: "Paixão", imageUrl: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSni2unnqpZtFU8BYv_sKwyjWiOQ5cauwqIRw&s" },
            { name: "Amor", imageUrl: "https://img.freepik.com/vetores-premium/um-desenho-de-um-casal-abracando-se-com-um-coracao-no-peito_481747-97141.jpg?semt=ais_hybrid&w=740&q=80" },
            { name: "Raiva", imageUrl: "https://cdn.culturagenial.com/imagens/raiva-0-cke.jpg?class=article" },
            { name: "Medo", imageUrl: "https://pm1.aminoapps.com/6320/4cb7fa9cb30957d892932ee4de5f4f51ec8c1c34_00.jpg" },
            { name: "Diversão", imageUrl: "https://img.freepik.com/vetores-premium/um-desenho-de-pessoas-dancando-ao-sol-com-a-palavra-a-palavra-nele_22974-669.jpg?semt=ais_hybrid&w=740&q=80" },
            { name: "Nostalgia", imageUrl: "https://recreio.com.br/wp-content/uploads/2024/07/nostalgia-divertida-mente-2-capa.jpg" },
            { name: "Calmaria", imageUrl: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQv1LqyCNqzNyIAYOO4ImnhEwVUTOFFRyOh1w&s" },
            { name: "Horror", imageUrl: "https://img.freepik.com/vetores-gratis/meio-corpo-de-zumbi_1308-27485.jpg?semt=ais_hybrid&w=740&q=80" }, 
            { name: "Esperança", imageUrl: "https://static.vecteezy.com/ti/vetor-gratis/p1/13530249-sentindo-esperanca-com-o-conceito-de-dedos-cruzados-personagem-de-desenho-animado-jovem-mulher-positiva-em-pe-com-os-olhos-fechados-segurando-os-dedos-cruzados-ilustracaoial-vetor.jpg" },
            { name: "Inveja", imageUrl: "https://www.nicelembrancinhas.com.br/image/catalog/DIVERTIDAMENTE/INVEJA.jpg" },
            { name: "Surpresa", imageUrl: "https://img.freepik.com/vetores-premium/uma-mulher-com-a-boca-aberta-e-uma-imagem-de-desenho-animado-de-uma-mulher-com-uma-expressao-surpresa_1158381-2420.jpg" },
            { name: "Nojo", imageUrl: "https://i0.wp.com/essenciaexponencial.com.br/wp-content/uploads/2023/11/nojinho.jpeg?resize=800%2C800&ssl=1" } 
        ];

        // Playlists Mockup (Inalteradas)
        const mockPlaylists = {
            Tristeza: [
                { title: "Saudade Sem Fim", artist: "Chico Desolado", duration: "3:45", spotifyLink: "https://open.spotify.com/track/..." },
                { title: "Chuvas de Outono", artist: "Mélancolique Trio", duration: "4:12", spotifyLink: "https://open.spotify.com/track/..." },
                { title: "Silêncio Roxo", artist: "Erika S.", duration: "2:59", spotifyLink: "https://open.spotify.com/track/..." }
            ],
            Felicidade: [
                { title: "Sol na Janela", artist: "Banda Alegria", duration: "2:30", spotifyLink: "https://open.spotify.com/track/..." },
                { title: "Energia Pura", artist: "Vibrações Positivas", duration: "3:05", spotifyLink: "https://open.spotify.com/track/..." }
            ],
            Paixão: [
                { title: "Fogo Cruzado", artist: "Dupla Incendiária", duration: "4:50", spotifyLink: "https://open.spotify.com/track/..." },
                { title: "Olhar Magnético", artist: "Desejo Íntimo", duration: "3:22", spotifyLink: "https://open.spotify.com/track/..." }
            ],
            Amor: [
                { title: "Laços Eternos", artist: "Coração Amigo", duration: "5:01", spotifyLink: "https://open.spotify.com/track/..." },
            ],
            Raiva: [
                { title: "Grito de Revolta", artist: "Fúria Urbana", duration: "2:15", spotifyLink: "https://open.spotify.com/track/..." },
            ],
            Medo: [
                { title: "Sombra na Esquina", artist: "Nocturno", duration: "4:00", spotifyLink: "https://open.spotify.com/track/..." },
            ],
            Diversão: [
                { title: "Festa na Piscina", artist: "Verão Certo", duration: "3:18", spotifyLink: "https://open.spotify.com/track/..." },
            ],
            Nostalgia: [
                { title: "Velhas Fotografias", artist: "Tempo Bom", duration: "3:55", spotifyLink: "https://open.spotify.com/track/..." },
            ],
            Calmaria: [
                { title: "Ondas Suaves", artist: "Zen Mestre", duration: "6:00", spotifyLink: "https://open.spotify.com/track/..." },
            ],
            Horror: [
                { title: "Suspiros da Meia Noite", artist: "Terror Gráfico", duration: "5:45", spotifyLink: "https://open.spotify.com/track/..." },
            ]
        };

        // Estado da Aplicação
        let currentState = {
            view: 'home', // 'home' ou 'playlist'
            currentEmotion: '',
            searchTerm: ''
        };

        const appContainer = document.getElementById('app-container');
        const CARD_WIDTH = 156; // 140px (card) + 16px (gap-4)

        // Funções do Carrossel 
        function scrollCarousel(direction) {
            const carousel = document.getElementById('emotions-scroll');
            if (carousel) {
                // Rola o equivalente a 3 cartões de uma vez
                const scrollAmount = direction * (CARD_WIDTH * 3);
                carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            }
        }

        // Função para renderizar a forma de playlist no cabeçalho (Imagem 1)
        function renderPlaylistShape() {
            return `
                <div class="bg-accent-purple rounded-[3rem] p-6 shadow-xl w-64 mx-auto mb-10 transform hover:scale-105 transition-transform duration-300">
                    <h1 class="wavy-text text-3xl text-center text-white">Playlist</h1>
                    <p class="text-white text-center text-sm mt-1">Por emoção</p>
                </div>
            `;
        }
        
        // Renderiza um card de emoção, agora usando a propriedade imageUrl
        function renderEmotionCard(emotion) {
            // Usa a tag <img> com o URL da emoção e um fallback (onerror)
            const imageContent = `
                <img 
                    src="${emotion.imageUrl}" 
                    alt="Capa para ${emotion.name}" 
                    class="w-full h-24 object-cover rounded-md shadow-md"
                    <!-- Se o URL da imagem falhar, mostra um placeholder roxo -->
                    onerror="this.onerror=null; this.src='https://placehold.co/140x96/6D28D9/ffffff?text=Erro+Imagem';" 
                >
            `;

            return `
                <div 
                    data-emotion="${emotion.name}" 
                    class="emotion-card bg-secondary-bg rounded-2xl p-3 shadow-lg cursor-pointer transform transition-all duration-300 hover:scale-[1.02] active:scale-95 border-2 border-accent-purple/30 w-[140px] flex-shrink-0 snap-center"
                    onclick="navigateToPlaylist('${emotion.name}')"
                >
                    <div class="bg-white rounded-lg p-2 flex flex-col items-center justify-center shadow-inner overflow-hidden">
                        ${imageContent}
                    </div>
                    <p class="text-center mt-2 text-deep-purple font-semibold text-sm">${emotion.name}</p>
                </div>
            `;
        }

        // Renderiza a página inicial (Home)
        function renderHomePage() {
            // Filtra pelo nome da emoção
            const filteredEmotions = EMOTIONS_DATA.filter(e => 
                e.name.toLowerCase().includes(currentState.searchTerm.toLowerCase())
            );

            appContainer.innerHTML = `
                <!-- Cabeçalho -->
                <header class="flex justify-between items-center mb-6 px-4 md:px-0">
                    <!-- Simulação da Onda de Som no topo (apenas visual) -->
                    <div class="text-deep-purple text-xs font-mono opacity-60">
                        <span class="inline-block w-1 h-3 bg-deep-purple mx-0.5"></span>
                        <span class="inline-block w-1 h-5 bg-deep-purple mx-0.5"></span>
                        <span class="inline-block w-1 h-2 bg-deep-purple mx-0.5"></span>
                        <span class="inline-block w-1 h-6 bg-deep-purple mx-0.5"></span>
                        <span class="inline-block w-1 h-3 bg-deep-purple mx-0.5"></span>
                        <span class="inline-block w-1 h-1 bg-deep-purple mx-0.5"></span>
                    </div>

                    <div class="flex space-x-2 text-sm font-medium">
                        <button class="text-deep-purple bg-white py-1 px-3 rounded-full hover:bg-deep-purple hover:text-white transition-colors duration-200 shadow-md">Login</button>
                        <button class="text-white bg-accent-purple py-1 px-3 rounded-full hover:bg-deep-purple transition-colors duration-200 shadow-md">Register</button>
                    </div>
                </header>

                <!-- Título Principal -->
                ${renderPlaylistShape()}

                <!-- Seção Emoções e Busca -->
                <div class="bg-secondary-bg rounded-3xl p-6 shadow-2xl border-2 border-accent-purple/50">
                    <h2 class="text-2xl font-bold text-deep-purple mb-4">Emoções</h2>
                    
                    <!-- Barra de Pesquisa -->
                    <div class="relative mb-6">
                        <input
                            id="search-input"
                            type="text"
                            placeholder="Pesquisar emoção..."
                            class="w-full p-3 pl-10 rounded-xl border-2 border-accent-purple focus:ring-2 focus:ring-accent-purple focus:border-accent-purple transition duration-200"
                            oninput="handleSearch(this.value)"
                            value="${currentState.searchTerm}"
                        >
                        <!-- Ícone de Lupa -->
                        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-accent-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    </div>

                    <!-- Carrossel de Emoções -->
                    <div class="relative">
                        <!-- Botão de Scroll Esquerdo -->
                        <button onclick="scrollCarousel(-1)" class="hidden md:block absolute left-0 top-1/2 transform -translate-y-1/2 bg-white p-2 rounded-full shadow-lg text-accent-purple hover:text-deep-purple transition-colors z-10 -ml-4">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                        </button>
                        
                        <!-- Lista de Emoções com Scroll Horizontal -->
                        <div id="emotions-scroll" class="emotion-carousel flex gap-4 pb-4 overflow-x-scroll snap-x snap-mandatory px-2">
                            ${filteredEmotions.map(renderEmotionCard).join('')}
                        </div>

                        <!-- Botão de Scroll Direito -->
                        <button onclick="scrollCarousel(1)" class="hidden md:block absolute right-0 top-1/2 transform -translate-y-1/2 bg-white p-2 rounded-full shadow-lg text-accent-purple hover:text-deep-purple transition-colors z-10 -mr-4">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                        </button>
                    </div>


                    ${filteredEmotions.length === 0 ? '<p class="text-center text-gray-500 mt-4">Nenhuma emoção encontrada.</p>' : ''}
                </div>

                <!-- Rodapé -->
                <footer class="mt-12 text-center text-deep-purple/70">
                    <div class="flex justify-center space-x-6 text-2xl mb-4">
                        <!-- Ícone Instagram (Simulado com SVG) -->
                        <svg class="w-6 h-6 hover:text-accent-purple transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v.01M12 20v.01M4 12h.01M20 12h.01M6.343 6.343l-.707-.707M17.657 17.657l.707.707M6.343 17.657l-.707.707M17.657 6.343l.707-.707m-9.192 4.95a5 5 0 110 9.9 5 5 0 010-9.9z"></path></svg>
                        <!-- Ícone TikTok (Simulado com SVG) -->
                        <svg class="w-6 h-6 hover:text-accent-purple transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m6-10V5a2 2 0 012-2h2a2 2 0 012 2v4m-6 0h6m-9 10h12a2 2 0 002-2v-2a2 2 0 00-2-2H8a2 2 0 00-2 2v2a2 2 0 002 2z"></path></svg>
                    </div>
                    <p class="text-sm">Feito por Amanda Raqueli de Lima Pilatti</p>
                    <p class="text-xs mt-1 text-deep-purple/50">Sem fins lucrativos</p>
                </footer>
            `;

            // OTIMIZAÇÃO DE FOCO: Re-seleciona o campo de busca
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                searchInput.focus(); 
                searchInput.setSelectionRange(searchInput.value.length, searchInput.value.length);
            }
        }

        // Simulação do Sound Wave e Controles de Player (Imagem 2)
        function renderMusicPlayer(track) {
            // Placeholder da imagem do álbum (Para o player, já que não temos arte da música)
            const albumImagePlaceholder = `
                <div class="w-full h-40 bg-white rounded-xl flex items-center justify-center shadow-inner overflow-hidden">
                    <div class="text-deep-purple/60 text-lg font-bold">
                        ÁLBUM ART
                    </div>
                </div>
            `;

            // Simulação da Onda de Som
            const soundWaveSVG = `
                <svg viewBox="0 0 100 10" class="w-full h-5" fill="none" stroke="#A78BFA" stroke-width="0.5">
                    ${[...Array(30).keys()].map(i => {
                        const height = Math.random() * 8 + 2;
                        return `<line x1="${i * 3.3}" y1="5" x2="${i * 3.3}" y2="${5 + height / 2}" /><line x1="${i * 3.3}" y1="5" x2="${i * 3.3}" y2="${5 - height / 2}" />`;
                    }).join('')}
                </svg>
            `;

            return `
                <div class="bg-secondary-bg rounded-2xl p-4 flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 items-center shadow-lg border border-accent-purple/30 mb-6 transition-all duration-300 hover:scale-[1.01]">
                    <!-- Imagem do Álbum -->
                    <div class="w-full md:w-1/3 flex-shrink-0">
                        ${albumImagePlaceholder}
                        <p class="text-xs text-center text-deep-purple/70 mt-2">${track.title} - ${track.artist}</p>
                    </div>
                    
                    <!-- Controles e Onda -->
                    <div class="flex-grow flex flex-col justify-center space-y-2 w-full md:w-2/3">
                        <div class="flex items-center justify-center h-12">
                            ${soundWaveSVG}
                        </div>

                        <!-- Barra de Progresso (Scrubber) -->
                        <div class="relative pt-1">
                            <input type="range" min="0" max="100" value="30" class="w-full h-2 bg-accent-purple/30 rounded-lg appearance-none cursor-pointer" style="--tw-ring-color: #A78BFA;">
                            <div class="flex justify-between text-xs text-deep-purple/70 mt-1">
                                <span>01:15</span>
                                <span>${track.duration}</span>
                            </div>
                        </div>

                        <!-- Controles Play/Pause/Skip -->
                        <div class="flex justify-center items-center space-x-6 pt-2">
                            <button class="text-accent-purple hover:text-deep-purple transition-colors active:scale-90" title="Anterior">
                                <!-- Previous/Back icon -->
                                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
                            </button>
                            <a href="${track.spotifyLink}" target="_blank" class="bg-accent-purple text-white p-3 rounded-full shadow-lg hover:bg-deep-purple transition-colors transform active:scale-95" title="Reproduzir no Spotify">
                                <!-- Play/Pause icon (Play Button centralizado na Imagem 2) -->
                                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            </a>
                            <button class="text-accent-purple hover:text-deep-purple transition-colors active:scale-90" title="Próxima">
                                <!-- Next/Forward icon -->
                                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M16 6v12h2V6zM6 18l8.5-6L6 6z"/></svg>
                            </button>
                        </div>
                        <p class="text-center text-xs text-deep-purple/50 pt-2">Clique no play para ouvir no Spotify (Link Simulado)</p>
                    </div>
                </div>
            `;
        }

        // Renderiza a página de playlist
        function renderPlaylistPage(emotion) {
            const playlist = mockPlaylists[emotion] || [];

            appContainer.innerHTML = `
                <!-- Cabeçalho da Playlist -->
                <header class="bg-accent-purple rounded-b-3xl p-6 text-center shadow-xl mb-8 relative">
                    <button onclick="navigateToHome()" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:scale-110 transition-transform">
                        <!-- Ícone Voltar (Seta) -->
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    </button>
                    <h1 class="text-4xl font-extrabold text-white tracking-wider">${emotion}</h1>
                </header>

                <main class="p-4">
                    <h2 class="text-xl font-bold text-deep-purple mb-4">Músicas para ${emotion} (${playlist.length} faixas)</h2>
                    
                    ${playlist.map(renderMusicPlayer).join('')}

                    ${playlist.length === 0 ? '<p class="text-center text-gray-500 mt-8">Nenhuma playlist encontrada para esta emoção.</p>' : ''}

                    <!-- Placeholder para visualização de mais músicas -->
                    <div class="text-center mt-8">
                        <button class="bg-deep-purple text-white py-3 px-6 rounded-full shadow-lg hover:bg-accent-purple transition-colors transform active:scale-95">Ver Mais Músicas</button>
                    </div>
                </main>
            `;
        }

        // Função de navegação principal
        function renderApp() {
            if (currentState.view === 'home') {
                renderHomePage();
            } else if (currentState.view === 'playlist' && currentState.currentEmotion) {
                renderPlaylistPage(currentState.currentEmotion);
            }
        }

        // Manipulador de eventos para navegar para a playlist
        function navigateToPlaylist(emotion) {
            currentState.view = 'playlist';
            currentState.currentEmotion = emotion;
            renderApp();
        }

        // Manipulador de eventos para busca
        function handleSearch(term) {
            // Atualiza o estado com o termo de pesquisa
            currentState.searchTerm = term.trim(); 
            // Renderiza a home novamente
            renderHomePage(); 
        }

        // Manipulador de eventos para navegar para a home
        function navigateToHome() {
            currentState.view = 'home';
            currentState.currentEmotion = '';
            currentState.searchTerm = ''; // Limpa a busca ao voltar
            renderApp();
        }

        // Inicia a aplicação na página inicial
        document.addEventListener('DOMContentLoaded', renderApp);

        // Exporta funções para serem acessíveis globalmente no HTML
        window.navigateToPlaylist = navigateToPlaylist;
        window.navigateToHome = navigateToHome;
        window.handleSearch = handleSearch;
        window.scrollCarousel = scrollCarousel;
    </script>
</body>
</html>